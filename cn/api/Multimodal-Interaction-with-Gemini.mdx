---
title: "Gemini æ–°ã€Œæ™ºç»˜ã€"
description: "Gemini ç»˜å›¾å’Œè§†é¢‘ç”ŸæˆæŒ‡å¼•"
icon: "eyes"
---

## Imagen ç»˜å›¾

Imagen æ˜¯ Google æ¨å‡ºçš„å…ˆè¿›å›¾åƒç”Ÿæˆ AI æ¨¡å‹ç³»åˆ—ï¼Œèƒ½å¤Ÿæ ¹æ®æ–‡æœ¬æç¤ºåˆ›å»ºé«˜è´¨é‡ã€é€¼çœŸçš„å›¾åƒã€‚æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨äº†è§£å¦‚ä½•ä½¿ç”¨ Imagen ç³»åˆ— API ç”Ÿæˆå›¾åƒï¼ŒåŒ…æ‹¬å‚æ•°è®¾ç½®ã€æ¨¡å‹é€‰æ‹©å’Œä»£ç ç¤ºä¾‹ã€‚

å¯ç”¨æ¨¡å‹åˆ—è¡¨ï¼š
- `imagen-4.0-generate-preview-05-20`ï¼šæœ€æ–°çš„æ­£å¼é¢„è§ˆç‰ˆ
- `imagen-4.0-ultra-generate-exp-05-20`ï¼šæ›´é«˜çº§çš„ 4.0 å®éªŒæ¬¾
- `imagen-3.0-generate-002`ï¼š3.0 æ­£å¼ç‰ˆ

<Tip>
  1. ç›®å‰ Imagen ä»…æ”¯æŒè‹±æ–‡æç¤ºè¯ï¼ˆpromptï¼‰ï¼Œé›†æˆæ—¶å»ºè®®å¢åŠ è‡ªåŠ¨ç¿»è¯‘ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿæ— éšœç¢ä½¿ç”¨
  2. ç»˜åˆ¶å¤§é‡æ–‡æœ¬çš„è¡¨ç°ä¸ç¨³å®šï¼Œå»ºè®®åªç»˜åˆ¶é‡ç‚¹å…³é”®è¯
  3. æŠ¢å…ˆä½“éªŒæœŸé—´ï¼ŒImagen ç³»åˆ—æ¨¡å‹åŒä»·ï¼Œåç»­å¯èƒ½ä¼šæŒ‰å®˜æ–¹æ­£å¼ä»·æ ¼è°ƒæ•´ã€‚
</Tip>

### æ¨¡å‹å‚æ•°

Imagen ç›®å‰ä»…æ”¯æŒè‹±æ–‡æç¤ºè¯ï¼Œå¹¶æä¾›ä»¥ä¸‹å‚æ•°ï¼š

- **numberOfImages**: è¦ç”Ÿæˆçš„å›¾åƒæ•°é‡ï¼ŒèŒƒå›´ä» 1 åˆ° 4ï¼ˆå«ï¼‰ã€‚é»˜è®¤å€¼ä¸º 4ã€‚å¦å¤–æ³¨æ„ `imagen-4.0-ultra-generate-exp-05-20` å•æ¬¡åªèƒ½ç”Ÿæˆ 1 å¼ ã€‚
- **aspectRatio**: æ›´æ”¹ç”Ÿæˆå›¾åƒçš„å®½é«˜æ¯”ã€‚æ”¯æŒçš„å€¼æœ‰ "1:1"ã€"3:4"ã€"4:3"ã€"9:16" å’Œ "16:9"ã€‚é»˜è®¤å€¼ä¸º "1:1"ã€‚
- **personGeneration**: å…è®¸æ¨¡å‹ç”Ÿæˆäººç‰©å›¾åƒã€‚æ”¯æŒä»¥ä¸‹å€¼ï¼š
  - "DONT_ALLOW": é˜»æ­¢ç”Ÿæˆäººç‰©å›¾åƒã€‚
  - "ALLOW_ADULT": ç”Ÿæˆæˆäººå›¾åƒï¼Œä½†ä¸ç”Ÿæˆå„¿ç«¥å›¾åƒã€‚è¿™æ˜¯é»˜è®¤å€¼ã€‚

### è´¹ç‡

ä½¿ç”¨ Imagen API ç”Ÿæˆå›¾åƒçš„è´¹ç”¨ä¸º **\$0.03/å¼ **ã€‚è¯·æ³¨æ„ï¼Œæ¯æ¬¡è°ƒç”¨å¯ä»¥ç”Ÿæˆ 1-4 å¼ å›¾åƒï¼Œè´¹ç”¨å°†æŒ‰å®é™…ç”Ÿæˆçš„å›¾åƒæ•°é‡è®¡ç®—ã€‚

### è°ƒç”¨ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä½¿ç”¨ Imagen ç”Ÿæˆå›¾åƒçš„ Python è°ƒç”¨ç¤ºä¾‹ï¼š

<CodeGroup>

```py Imagen
import os
import time
from google import genai
from google.genai import types
from PIL import Image
from io import BytesIO

client = genai.Client(
    api_key="sk-***", # ğŸ”‘ æ¢æˆä½ åœ¨ AiHubMix ç”Ÿæˆçš„å¯†é’¥
    http_options={"base_url": "https://aihubmix.com/gemini"},
)

# ç›®å‰åªæ”¯æŒè‹±æ–‡ promptï¼Œç»˜åˆ¶å¤§é‡æ–‡æœ¬çš„è¡¨ç°è¾ƒå·®
response = client.models.generate_images(
    model='imagen-3.0-generate-002',
    prompt='A minimalist logo for a LLM router market company on a solid white background. trident in a circle as the main symbol, with ONLY text \'InferEra\' below.',
    config=types.GenerateImagesConfig(
        number_of_images=1,
        aspect_ratio="1:1", # supports "1:1", "9:16", "16:9", "3:4", or "4:3".
    )
)

script_dir = os.path.dirname(os.path.abspath(__file__))
output_dir = os.path.join(script_dir, "output")

os.makedirs(output_dir, exist_ok=True)

# ç”Ÿæˆæ—¶é—´æˆ³ä½œä¸ºæ–‡ä»¶åå‰ç¼€ï¼Œé¿å…æ–‡ä»¶åå†²çª
timestamp = int(time.time())

# ä¿å­˜å¹¶æ˜¾ç¤ºç”Ÿæˆçš„å›¾ç‰‡
for i, generated_image in enumerate(response.generated_images):
  image = Image.open(BytesIO(generated_image.image.image_bytes))
  image.show()
  
  file_name = f"imagen3_{timestamp}_{i+1}.png"
  file_path = os.path.join(output_dir, file_name)
  image.save(file_path)
  
  print(f"å›¾ç‰‡å·²ä¿å­˜è‡³ï¼š{file_path}")
```

</CodeGroup>

### æç¤ºè¯æŠ€å·§

åˆ›å»ºæœ‰æ•ˆçš„æç¤ºè¯å¯¹äºè·å¾—ç†æƒ³çš„å›¾åƒè‡³å…³é‡è¦ï¼š

- ä½¿ç”¨è¯¦ç»†çš„æè¿°ï¼ŒåŒ…æ‹¬ä¸»é¢˜ã€é£æ ¼ã€å…‰ç…§ã€è§’åº¦ç­‰ã€‚
- æŒ‡å®šè‰ºæœ¯é£æ ¼ï¼ˆå¦‚ç”µå½±æ„Ÿã€å†™å®ä¸»ä¹‰ã€åŠ¨æ¼«é£æ ¼ç­‰ï¼‰ã€‚
- åŒ…å«æŠ€æœ¯ç»†èŠ‚ï¼ˆå¦‚ DSLRã€é«˜æ¸…ã€ç»†èŠ‚ä¸°å¯Œç­‰ï¼‰ã€‚
- é¿å…è´Ÿé¢æˆ–è¿ç¦å†…å®¹ã€‚
- **é¿å…åœ¨æç¤ºè¯ä¸­åŒ…å«å¤§é‡æ–‡æœ¬**ï¼Œä»…ä½¿ç”¨é‡ç‚¹å…³é”®è¯ä»¥è·å¾—æ›´ç¨³å®šçš„ç»“æœã€‚
- å…³é”®è¯åŒ…å« `girl` æ—¶å®¹æ˜“è§¦å‘ TypeError: 'NoneType' object is not iterable æŠ¥é”™ï¼Œä¸æ¨èç”¨äºäººç‰©ç»˜åˆ¶

## Gemini 2.0 Flash å›¾åƒç”Ÿæˆ

Gemini ä¹Ÿæä¾›äº†å›¾åƒç”Ÿæˆèƒ½åŠ›ï¼Œä½œä¸ºä¸€ç§æ›¿ä»£æ–¹æ¡ˆã€‚ä¸ Imagen 3.0 ç›¸æ¯”ï¼ŒGemini çš„å›¾åƒç”Ÿæˆæ›´é€‚åˆäºéœ€è¦ä¸Šä¸‹æ–‡ç†è§£å’Œæ¨ç†çš„åœºæ™¯ï¼Œè€Œéè¿½æ±‚æè‡´çš„è‰ºæœ¯è¡¨ç°å’Œè§†è§‰è´¨é‡ã€‚

- æ›´é«˜çš„è§†è§‰è´¨é‡ â†’ ç›¸æ¯” exp ç‰ˆï¼Œå›¾åƒæ›´é”åˆ©ã€æ›´ä¸°å¯Œã€æ›´æ¸…æ™°ã€‚
- æ›´å‡†ç¡®çš„æ–‡æœ¬å‘ˆç° â†’ ç”Ÿæˆçš„è§†è§‰ä¸­ï¼Œæ–‡æœ¬æ›´åŠ ç²¾å‡†ã€å¹²å‡€ã€æ˜“è¯»ã€‚
- æ˜¾è‘—å‡å°‘è¿‡æ»¤æ‹¦æˆª â†’ å¾—ç›Šäºæ›´æ™ºèƒ½ã€å®½æ¾çš„è¿‡æ»¤æœºåˆ¶ï¼Œåˆ›ä½œæ—¶å‡ ä¹ä¸å†è¢«æ‰“æ–­ã€‚

**è¯´æ˜ï¼š**
- æ¨¡å‹ idï¼š`gemini-2.0-flash-preview-image-generation`
- è´¹ç‡ï¼ˆè¾“å…¥â†’è¾“å‡ºï¼‰ï¼š$0.1â†’$0.4/M tokens
- éœ€è¦æ–°å¢å‚æ•°æ¥ä½“éªŒæ–°ç‰¹æ€§ `"modalities":["text","image"]`
- å›¾ç‰‡ä»¥ Base64 ç¼–ç å½¢å¼ä¼ é€’ä¸è¾“å‡º
- ä½œä¸ºå®éªŒæ¨¡å‹ï¼Œå»ºè®®æ˜ç¡®æŒ‡å‡º "è¾“å‡ºå›¾ç‰‡"ï¼Œå¦åˆ™å¯èƒ½åªæœ‰æ–‡æœ¬
- è¾“å‡ºå›¾ç‰‡çš„é»˜è®¤é«˜åº¦ä¸º 1024px
- python è°ƒç”¨éœ€è¦æœ€æ–°çš„ openai sdk æ”¯æŒï¼Œè¯·å…ˆè¿è¡Œ `pip install -U openai`
- äº†è§£æ›´å¤šè¯·è®¿é—® [Gemini å®˜æ–¹æ–‡æ¡£](https://ai.google.dev/gemini-api/docs/image-generation)

<Tip>
  `gemini-2.0-flash-exp` å·²ç»æ­£å¼å‡çº§ä¸º `gemini-2.0-flash-preview-image-generation`ï¼Œè®©ä½ çš„åˆ›ä½œæµç¨‹æ›´æµç•…ã€æ›´ç²¾å½©ã€‚
</Tip>
  
**è¾“å…¥å‚è€ƒç»“æ„ï¼š**

```json
"modalities": ["text","image"]
{
    "model": "gemini-2.0-flash-preview-image-generation",
    "messages": [
      {
        "role": "user",
        "content": "ç”Ÿæˆä¸€å¹…å±±æ°´ç”»ï¼Œå¹¶ç»™å‡ºä¸€é¦–è¯—è¯æè¿°"
      }
    ],
    "modalities":["text","image"], //éœ€è¦æ·»åŠ  image
    "temperature": 0.7
  }'
```

**è¾“å‡ºå‚è€ƒç»“æ„ï¼š**

```json
"choices":
    [
        {
            "index": 0,
            "message":
            {
                "role": "assistant",
                "content": "Hello! How can I assist you today?",
                "refusal": null,
                "multi_mod_content": //ğŸ“ æ–°å¢
                [
                    {
                        "text": "",
                        "inlineData":
                        {
                          "data":"base64 str",
                          "mimeType":"png"
                        }
                    },
                    {
                        "text": "hello",
                        "inlineData":
                        {
                        }
                    }
                ],
                "annotations":
                []
            },
            "logprobs": null,
            "finish_reason": "stop"
        }
    ],
```

### å›¾æ–‡ç”Ÿæˆ

Iuputï¼štext
Outputï¼štext \+ image

<CodeGroup>

```shell Curl
IMG_PATH="/your_path/image.jpg"

if [[ "$(base64 --version 2>&1)" = *"FreeBSD"* ]]; then
  B64FLAGS="--input"
else
  B64FLAGS="-w0"
fi

IMG_BASE64=$(base64 "$B64FLAGS" "$IMG_PATH" 2>&1)

curl https://aihubmix.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer sk-***" \
  -d '{
    "model": "gemini-2.0-flash-preview-image-generation",
    "messages": [
      {
        "role": "user",
        "content": [
          {
            "type":"text",
            "text":"describe the image with a concise and engaging paragraph, then fill color as children's crayon style"
          },
          {
            "type": "image_url",
            "image_url": {
              "url": "data:image/jpeg;base64,'$IMG_BASE64'"
            }
          }
        ]
      }
    ],
    "modalities": ["text","image"],
    "temperature": 0.7
}' \
  | grep -o '"data":"[^"]*"' \
  | cut -d'"' -f4 \
  | base64 --decode > /your_path/imageGen.jpg
```


```py Python
import os
from openai import OpenAI
from PIL import Image
from io import BytesIO
import base64

client = OpenAI(
    api_key="sk-***", # æ¢æˆä½ åœ¨ AiHubMix ç”Ÿæˆçš„å¯†é’¥
    base_url="https://aihubmix.com/v1",
)

# Using text-only input
response = client.chat.completions.create(
    model="gemini-2.0-flash-preview-image-generation",
    messages=[
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "text": "generate an adorable mermaid in the sea, bold outline, chibi cartoon, in the style of Children coloring book, B&W, HD",
                }
            ],
        },
    ],
    modalities=["text", "image"],
    temperature=0.7,
)
try:
    # Print basic response information
    print(f"Creation time: {response.created}")
    print(f"Token usage: {response.usage.total_tokens}")
    
    # Check if multi_mod_content field exists
    if (
        hasattr(response.choices[0].message, "multi_mod_content")
        and response.choices[0].message.multi_mod_content is not None
    ):
        print("\nResponse content:")
        for part in response.choices[0].message.multi_mod_content:
            if "text" in part and part["text"] is not None:
                print(part["text"])
            
            # Process image content
            elif "inline_data" in part and part["inline_data"] is not None:
                print("\nğŸ–¼ï¸ [Image content received]")
                image_data = base64.b64decode(part["inline_data"]["data"])
                mime_type = part["inline_data"].get("mime_type", "image/png")
                print(f"Image type: {mime_type}")
                
                image = Image.open(BytesIO(image_data))
                image.show()
                
                # Save image
                output_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), "output")
                os.makedirs(output_dir, exist_ok=True)
                output_path = os.path.join(output_dir, "generated_image.jpg")
                image.save(output_path)
                print(f"âœ… Image saved to: {output_path}")
            
    else:
        print("No valid multimodal response received, check response structure")
except Exception as e:
    print(f"Error processing response: {str(e)}")
```

</CodeGroup>

**è¾“å‡ºå®ä¾‹ï¼š**\
![å›¾ç‰‡](./../media/gemini-s-flash-exp-usage-shot.png)

### å›¾ç‰‡ç¼–è¾‘

Iuputï¼štext \+ image\
Outputï¼štext \+ image

<CodeGroup>

```py Python
import os
from openai import OpenAI
from PIL import Image
from io import BytesIO
import base64

client = OpenAI(
    api_key="sk-***", # æ¢æˆä½ åœ¨ AiHubMix ç”Ÿæˆçš„å¯†é’¥
    base_url="https://aihubmix.com/v1",
)

project_root = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))

image_path = os.path.join(os.path.dirname(os.path.abspath(__file__)), "resources", "filled.jpg")
if not os.path.exists(image_path):
    raise FileNotFoundError(f"image {image_path} not exists")

def encode_image(image_path):
    with open(image_path, "rb") as image_file:
        return base64.b64encode(image_file.read()).decode("utf-8")

base64_image = encode_image(image_path)

response = client.chat.completions.create(
    model="gemini-2.0-flash-preview-image-generation",
    messages=[
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "text": "describe the image with a concise and engaging paragraph, then fill color as children's crayon style",
                },
                {
                    "type": "image_url", 
                    "image_url": {"url": f"data:image/jpeg;base64,{base64_image}"},
                },     
            ],
        },
    ],
    modalities=["text", "image"],
    temperature=0.7,
)
try:
    # Print basic response information without base64 data
    print(f"Creation time: {response.created}")
    print(f"Token usage: {response.usage.total_tokens}")
    
    # Check if multi_mod_content field exists
    if (
        hasattr(response.choices[0].message, "multi_mod_content")
        and response.choices[0].message.multi_mod_content is not None
    ):
        print("\nResponse content:")
        for part in response.choices[0].message.multi_mod_content:
            if "text" in part and part["text"] is not None:
                print(part["text"])
            
            # Process image content
            elif "inline_data" in part and part["inline_data"] is not None:
                print("\nğŸ–¼ï¸ [Image content received]")
                image_data = base64.b64decode(part["inline_data"]["data"])
                mime_type = part["inline_data"].get("mime_type", "image/png")
                print(f"Image type: {mime_type}")
                
                image = Image.open(BytesIO(image_data))
                image.show()
                
                # Save image
                output_dir = os.path.join(os.path.dirname(image_path), "output")
                os.makedirs(output_dir, exist_ok=True)
                output_path = os.path.join(output_dir, "edited_image.jpg")
                image.save(output_path)
                print(f"âœ… Image saved to: {output_path}")
            
    else:
        print("No valid multimodal response received, check response structure")
except Exception as e:
    print(f"Error processing response: {str(e)}")
```

</CodeGroup>

**è¾“å‡ºå®ä¾‹ï¼š**\
![å›¾ç‰‡](./../media/gemini-s-flash-exp-usage-shot-2.png)

## é€‰æ‹©æ­£ç¡®çš„ç»˜å›¾æ¨¡å‹

### é€‰æ‹© Gemini çš„æƒ…å†µï¼š

- éœ€è¦åˆ©ç”¨ä¸–ç•ŒçŸ¥è¯†å’Œæ¨ç†èƒ½åŠ›ç”Ÿæˆä¸Šä¸‹æ–‡ç›¸å…³çš„å›¾åƒã€‚
- éœ€è¦æ— ç¼æ··åˆæ–‡æœ¬å’Œå›¾åƒã€‚
- å¸Œæœ›åœ¨é•¿æ–‡æœ¬åºåˆ—ä¸­åµŒå…¥å‡†ç¡®çš„è§†è§‰å†…å®¹ã€‚
- å¸Œæœ›åœ¨ä¿æŒä¸Šä¸‹æ–‡çš„åŒæ—¶ä»¥å¯¹è¯æ–¹å¼ç¼–è¾‘å›¾åƒã€‚

### é€‰æ‹© Imagen çš„æƒ…å†µï¼š

- å›¾åƒè´¨é‡ã€ç…§ç‰‡çœŸå®æ„Ÿã€è‰ºæœ¯ç»†èŠ‚æˆ–ç‰¹å®šé£æ ¼ï¼ˆå¦‚å°è±¡æ´¾ã€åŠ¨æ¼«ï¼‰æ˜¯é¦–è¦è€ƒè™‘å› ç´ ã€‚
- æ‰§è¡Œä¸“ä¸šç¼–è¾‘ä»»åŠ¡ï¼Œå¦‚äº§å“èƒŒæ™¯æ›´æ–°æˆ–å›¾åƒæ”¾å¤§ã€‚
- æ³¨å…¥å“ç‰Œã€é£æ ¼æˆ–ç”Ÿæˆæ ‡å¿—å’Œäº§å“è®¾è®¡ã€‚

### æœ€ä½³å®è·µ

1. **ä¼˜åŒ–æç¤ºè¯**ï¼šç²¾å¿ƒè®¾è®¡æç¤ºè¯ï¼Œè¿™æ˜¯è·å¾—é«˜è´¨é‡è¾“å‡ºçš„å…³é”®ã€‚
2. **å®éªŒå‚æ•°**ï¼šå°è¯•ä¸åŒçš„å®½é«˜æ¯”å’Œè®¾ç½®ï¼Œæ‰¾åˆ°æœ€é€‚åˆæ‚¨éœ€æ±‚çš„é…ç½®ã€‚
3. **æ‰¹é‡ç”Ÿæˆ**ï¼šç”Ÿæˆå¤šå¼ å›¾åƒä»¥å¢åŠ è·å¾—ç†æƒ³ç»“æœçš„æœºä¼šã€‚
4. **ä¿å­˜å…ƒæ•°æ®**ï¼šå°†æç¤ºè¯å’Œæ—¶é—´æˆ³ä¸å›¾åƒä¸€èµ·ä¿å­˜ï¼Œä»¥ä¾¿è¿½è¸ªå’Œå¤åˆ¶æˆåŠŸçš„ç»“æœã€‚
5. **éµå®ˆä½¿ç”¨æ”¿ç­–**ï¼šç¡®ä¿æ‚¨çš„ä½¿ç”¨ç¬¦åˆ Google çš„å†…å®¹æ”¿ç­–å’Œä½¿ç”¨æ¡æ¬¾ã€‚

## Veo 3.0 è§†é¢‘ç”Ÿæˆ

VEO 3.0 æ˜¯ç”± Google DeepMind å¼€å‘çš„æœ€æ–°å…ˆè¿›è§†é¢‘ç”Ÿæˆæ¨¡å‹ã€‚ä½¿ç”¨ VEO 3.0ï¼Œæ‚¨å¯ä»¥ç”Ÿæˆå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹çš„è§†é¢‘ï¼š

- ä»æ–‡æœ¬å’Œå›¾åƒæç¤ºä¸­ç”Ÿæˆçš„è´¨é‡æå‡
- è¯­éŸ³ï¼Œä¾‹å¦‚å¯¹è¯å’Œé…éŸ³
- éŸ³é¢‘ï¼Œä¾‹å¦‚éŸ³ä¹å’Œå£°éŸ³æ•ˆæœ

<Tip>
1. ç›®å‰ VEO 3.0 ä»…æ”¯æŒè‹±æ–‡æç¤ºè¯ï¼ˆpromptï¼‰ï¼Œé›†æˆæ—¶å»ºè®®å¢åŠ è‡ªåŠ¨ç¿»è¯‘
2. è§†é¢‘é€šå¸¸åœ¨å‡ åˆ†é’Ÿå†…ç”Ÿæˆå®Œæˆï¼Œä½†é«˜å³°æœŸå¯èƒ½éœ€è¦æ›´é•¿æ—¶é—´
3. ç›®å‰ä¸æ”¯æŒç”¨å›¾ç‰‡è¿›è¡Œå¯¹è¯ç”Ÿæˆçš„è§†é¢‘
</Tip>

### å·²çŸ¥é™åˆ¶

ç›®å‰ VEO 3.0 çš„å‚æ•°å›ºå®šï¼Œæ— æ³•æ›´æ”¹ï¼š
- **åˆ†è¾¨ç‡**: 720pï¼ˆæ¨ªå±ï¼‰
- **å¸§ç‡**: 24fps
- **è§†é¢‘é•¿åº¦**: 8ç§’

### è´¹ç‡

ä½¿ç”¨ VEO 3.0 API çš„è´¹ç”¨æ˜¯ **$0.675/ç§’**ï¼ˆAihubmix æä¾› 10% é™æ—¶ä¼˜æƒ ï¼‰

### è°ƒç”¨ç¤ºä¾‹

VEO 3.0 ç›®å‰ä»…æ”¯æŒ curl å‘½ä»¤è°ƒç”¨ï¼Œé‡‡ç”¨ä¸¤æ­¥å¤„ç†æ–¹å¼ï¼š
å…¶ä¸­ï¼š`sk-***` æ¢æˆä½ åœ¨ AiHubMix ç”Ÿæˆçš„å¯†é’¥ã€‚

<CodeGroup>

```shell æ­¥éª¤ 1ï¼šå‘èµ·ç”Ÿæˆè¯·æ±‚
curl "https://aihubmix.com/gemini/v1beta/models/veo-3.0-generate-preview:predictLongRunning?key=sk-***" \
  -H "Content-Type: application/json" \
  -X "POST" \
  -d '{
    "instances":
    [
        {
            "prompt": "A cat playing with a ball"
        }
    ],
    "parameters":
    {
        "numberOfVideos": 1,
        "durationSeconds": 8,
        "aspectRatio": "16:9",
        "personGeneration": "dont_allow"
    }
}'
```

```shell æ­¥éª¤ 2ï¼šè·å–ç”Ÿæˆç»“æœ
# ä½¿ç”¨æ­¥éª¤ 1 è¿”å›çš„ name å­—æ®µä¸­çš„æ“ä½œID
curl "https://aihubmix.com/gemini/v1beta/models/veo-3.0-generate-preview/operations/ff5***?key=sk-***"
```

```py è§†é¢‘æå–è„šæœ¬
import json
import base64

# 1. è¯»å…¥å“åº” JSON æ–‡ä»¶
with open('yourpath/response.json', 'r') as f:
    data = json.load(f)

# 2. è·å– base64 ç¼–ç çš„è§†é¢‘å­—ç¬¦ä¸²
b64_str = data['response']['videos'][0]['bytesBase64Encoded']

# 3. è§£ç å¹¶å†™å…¥ mp4 æ–‡ä»¶
with open('output.mp4', 'wb') as f:
    f.write(base64.b64decode(b64_str))

print("è§†é¢‘å·²ä¿å­˜ä¸º output.mp4")
```

</CodeGroup>

### è¿”å›ç¤ºä¾‹

**æ­¥éª¤ 1 è¿”å›ï¼š**
```json
{
  "name": "models/veo-3.0-generate-preview/operations/ff5***"
}
```

**æ­¥éª¤ 2 è¿”å›ï¼ˆç”Ÿæˆå®Œæˆï¼‰ï¼š**
```json
{
  "name": "projects/ahm-gemini-03/locations/us-central1/publishers/google/models/veo-3.0-generate-preview/operations/ff5***",
  "done": true,
  "response": {
    "@type": "type.googleapis.com/cloud.ai.large_models.vision.GenerateVideoResponse",
    "raiMediaFilteredCount": 0,
    "videos": [
      {
        "bytesBase64Encoded": "AAA...2xl",
        "mimeType": "video/mp4"
      }
    ]
  }
}
```

**æ­¥éª¤ 2 è¿”å›ï¼ˆä»åœ¨å¤„ç†ä¸­ï¼‰ï¼š**
```json
{
  "name": "projects/ahm-gemini-03/locations/us-central1/publishers/google/models/veo-3.0-generate-preview/operations/777***"
}
```

å¦‚æœæ”¶åˆ°å¤„ç†ä¸­çš„è¿”å›ï¼Œè¯·ç¨ç­‰å‡ åˆ†é’Ÿåé‡æ–°å‘é€æ­¥éª¤ 2 çš„è¯·æ±‚ã€‚

**è§†é¢‘æ•ˆæœï¼š**

<video
  controls
  className="w-full aspect-video rounded-xl"
  src="./../media/veo3-output.mp4"
></video>

### æœ€ä½³å®è·µ

1. **è€å¿ƒç­‰å¾…**ï¼šè§†é¢‘ç”Ÿæˆé€šå¸¸éœ€è¦å‡ åˆ†é’Ÿï¼Œé«˜å³°æœŸå¯èƒ½æ›´é•¿
2. **æ£€æŸ¥çŠ¶æ€**ï¼šå¦‚æœè¿”å›ä¸­æ²¡æœ‰ `done: true`ï¼Œè¯´æ˜ä»åœ¨å¤„ç†ä¸­
3. **ä¿å­˜æ“ä½œID**ï¼šç¡®ä¿ä¿å­˜æ­¥éª¤1è¿”å›çš„æ“ä½œ ID ç”¨äºåç»­æŸ¥è¯¢
4. **éµå®ˆä½¿ç”¨æ”¿ç­–**ï¼šç¡®ä¿æ‚¨çš„ä½¿ç”¨ç¬¦åˆ Google çš„å†…å®¹æ”¿ç­–å’Œä½¿ç”¨æ¡æ¬¾

æ›´å¤šä¿¡æ¯è¯·å‚è€ƒ [Vertex AI å®˜æ–¹æ–‡æ¡£](https://cloud.google.com/vertex-ai/generative-ai/docs/video/generate-videos)

## Veo 2.0 è§†é¢‘ç”Ÿæˆ

VEO 2.0 æ˜¯ Google æ¨å‡ºçš„å…ˆè¿›è§†é¢‘ç”Ÿæˆ AI æ¨¡å‹ï¼Œèƒ½å¤Ÿæ ¹æ®æ–‡æœ¬æç¤ºåˆ›å»ºé«˜è´¨é‡ã€é€¼çœŸçš„çŸ­è§†é¢‘ã€‚ä¸‹é¢çš„æŒ‡å—å°†å¸®åŠ©æ‚¨äº†è§£å¦‚ä½•ä½¿ç”¨ VEO 2.0 API ç”Ÿæˆè§†é¢‘ï¼ŒåŒ…æ‹¬å‚æ•°è®¾ç½®ã€æ¨¡å‹é€‰æ‹©å’Œä»£ç ç¤ºä¾‹ã€‚

<Tip>
1. ç›®å‰ VEO 2.0 ä»…æ”¯æŒè‹±æ–‡æç¤ºè¯ï¼ˆpromptï¼‰ï¼Œé›†æˆæ—¶å»ºè®®å¢åŠ è‡ªåŠ¨ç¿»è¯‘ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿæ— éšœç¢ä½¿ç”¨
2. ç”Ÿæˆè§†é¢‘éœ€è¦è€—æ—¶ 2-3 åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…
</Tip>

### æ¨¡å‹å‚æ•°

VEO 2.0 æä¾›ä»¥ä¸‹å‚æ•°ï¼š

- **numberOfVideos**: è¦ç”Ÿæˆçš„è§†é¢‘æ•°é‡ï¼Œå¯é€‰ 1 æˆ– 2ã€‚é»˜è®¤å€¼ä¸º 2ã€‚
- **aspectRatio**: ç”Ÿæˆè§†é¢‘çš„å®½é«˜æ¯”ã€‚æ”¯æŒçš„å€¼æœ‰ "16:9" å’Œ "9:16"ã€‚
- **durationSeconds**: è§†é¢‘æ—¶é•¿ï¼Œå¯é€‰ 5 ç§’æˆ– 8 ç§’ã€‚é»˜è®¤å€¼ä¸º 8 ç§’ã€‚
- **personGeneration**: æ§åˆ¶æ˜¯å¦å…è®¸ç”Ÿæˆå«äººç‰©çš„è§†é¢‘ã€‚æ”¯æŒä»¥ä¸‹å€¼ï¼š
  - "dont_allow": é˜»æ­¢ç”Ÿæˆå«äººç‰©çš„è§†é¢‘ã€‚
  - "allow_adult": å…è®¸ç”Ÿæˆå«æˆäººçš„è§†é¢‘ï¼Œä½†ä¸ç”Ÿæˆå„¿ç«¥è§†é¢‘ã€‚

### è´¹ç‡

ä½¿ç”¨ VEO 2.0 API çš„è´¹ç”¨æ˜¯ $0.35/ç§’

### è°ƒç”¨ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä½¿ç”¨ VEO 2.0 ç”Ÿæˆè§†é¢‘çš„ Python è°ƒç”¨ç¤ºä¾‹ï¼š

<CodeGroup>

```py æ–‡ç”Ÿè§†é¢‘
import os
import time
from google import genai
from google.genai import types

client = genai.Client(
    api_key="sk-***", # æ¢æˆä½ åœ¨ AiHubMix ç”Ÿæˆçš„å¯†é’¥
    http_options={"base_url": "https://aihubmix.com/gemini"},
)

operation = client.models.generate_videos(
    model="veo-2.0-generate-001",
    prompt="Panning wide shot of a calico kitten sleeping in the sunshine",
    config=types.GenerateVideosConfig(
        person_generation="dont_allow",  # "dont_allow" æˆ– "allow_adult"
        aspect_ratio="16:9",  # "16:9" æˆ– "9:16"
        number_of_videos=1, # æ•´æ•°ï¼Œå¯é€‰ 1ã€2ï¼Œé»˜è®¤ 2
        durationSeconds=5, # æ•´æ•°ï¼Œå¯é€‰ 5ã€8ï¼Œé»˜è®¤ 8
    ),
)

# è€—æ—¶ 2-3 åˆ†é’Ÿï¼Œè§†é¢‘æ—¶é•¿ 5-8s
while not operation.done:
    time.sleep(20)
    operation = client.operations.get(operation)

for n, generated_video in enumerate(operation.response.generated_videos):
    client.files.download(file=generated_video.video)
    generated_video.video.save(f"video{n}.mp4")  # ä¿å­˜è§†é¢‘
```

```py å‚è€ƒå›¾é©±åŠ¨
import os
import time
from google import genai
from google.genai import types

def load_image(path):
    with open(path, "rb") as image_file:
        return image_file.read()
    
client = genai.Client(
    api_key="sk-***", # æ¢æˆä½ åœ¨ AiHubMix ç”Ÿæˆçš„å¯†é’¥
    http_options={"base_url": "https://aihubmix.com/gemini"},
)

operation = client.models.generate_videos(
    model="veo-2.0-generate-001",
    prompt="The waves in the background keep flowing",
    image=types.Image(
        mime_type="image/png", 
        image_bytes=load_image("img/inferbanner.png")  # ä½¿ç”¨ä½ çš„å›¾ç‰‡è·¯å¾„
    ),
    config=types.GenerateVideosConfig(
        person_generation="dont_allow",
        aspect_ratio="16:9",
        numberOfVideos=1,
        durationSeconds=5,
    ),
)

while not operation.done:
    time.sleep(20)
    operation = client.operations.get(operation)

for n, generated_video in enumerate(operation.response.generated_videos):
    client.files.download(file=generated_video.video)
    generated_video.video.save(f"video{n}.mp4")
```

</CodeGroup>

### æç¤ºè¯æŠ€å·§

åˆ›å»ºæœ‰æ•ˆçš„æç¤ºè¯å¯¹äºè·å¾—ç†æƒ³çš„è§†é¢‘è‡³å…³é‡è¦ï¼š

- æè¿°æ¸…æ™°çš„åœºæ™¯ã€åŠ¨ä½œå’Œæ°›å›´
- æŒ‡å®šæ‹æ‘„é£æ ¼ï¼ˆå¦‚å…¨æ™¯ã€ç‰¹å†™ã€è·Ÿè¸ªé•œå¤´ç­‰ï¼‰
- æè¿°å…‰ç…§æ¡ä»¶ï¼ˆå¦‚é˜³å…‰æ˜åªšã€é»„æ˜ã€å®¤å†…ç¯å…‰ç­‰ï¼‰
- æŒ‡æ˜ä¸»ä½“å¯¹è±¡åŠå…¶åŠ¨ä½œï¼ˆå¦‚"çŒ«å’ªåœ¨é˜³å…‰ä¸‹ç¡è§‰"ï¼‰
- é¿å…è¿‡äºå¤æ‚çš„å™äº‹æˆ–å¿«é€Ÿå˜åŒ–çš„åœºæ™¯
- é¿å…è´Ÿé¢æˆ–è¿ç¦å†…å®¹

### æœ€ä½³å®è·µ

1. **ç®€æ´æ˜äº†çš„æç¤ºè¯**ï¼šä½¿ç”¨æ¸…æ™°ã€å…·ä½“çš„æè¿°æ¥æŒ‡å¯¼è§†é¢‘ç”Ÿæˆã€‚
2. **è€å¿ƒç­‰å¾…**ï¼šè§†é¢‘ç”Ÿæˆéœ€è¦ 2-3 åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…å®Œæˆã€‚
3. **æµ‹è¯•ä¸åŒå‚æ•°**ï¼šå°è¯•ä¸åŒçš„å®½é«˜æ¯”å’Œæ—¶é•¿ï¼Œæ‰¾åˆ°æœ€é€‚åˆæ‚¨éœ€æ±‚çš„è®¾ç½®ã€‚
4. **ä¿å­˜ç”Ÿæˆè®°å½•**ï¼šå°†æç¤ºè¯ä¸ç”Ÿæˆçš„è§†é¢‘ä¸€èµ·è®°å½•ï¼Œä»¥ä¾¿è¿½è¸ªæˆåŠŸçš„ç»“æœã€‚
5. **éµå®ˆä½¿ç”¨æ”¿ç­–**ï¼šç¡®ä¿æ‚¨çš„ä½¿ç”¨ç¬¦åˆ Google çš„å†…å®¹æ”¿ç­–å’Œä½¿ç”¨æ¡æ¬¾ã€‚ 
