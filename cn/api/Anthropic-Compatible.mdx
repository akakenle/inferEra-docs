---
title: "Anthropic API 兼容（Beta）"
description: "为了满足开发者对 Anthropic API 生态的使用需求，我们的 API 现支持通过 Anthropic API 调用所有的模型。"
icon: "c"
---

## 快速开始

### 安装 Anthropic SDK

<CodeGroup>

```shellscript Python
pip install -U anthropic
```


```shellscript Node.js
npm install @anthropic-ai/sdk
```

</CodeGroup>

### 调用方法

**端点 ：**`https://aihubmix.com/v1/messages`

<CodeGroup>

```shellscript Curl
curl https://aihubmix.com/v1/messages \
  -H "Content-Type: application/json" \
  -H "x-api-key: <AIHUBMIX_API_KEY>" \
  -H "anthropic-version: 2023-06-01" \
  -d '{
    "model": "<modelName>",
    "max_tokens": 16000,
    "thinking": {
      "type": "enabled",
      "budget_tokens": 10000
    },
    "messages": [
      {
        "role": "user",
        "content": "Are there an infinite number of prime numbers such that n mod 4 == 3?"
      }
    ]
  }'
```


```python Python
from anthropic import Anthropic

client = Anthropic(
  api_key="<AIHUBMIX_API_KEY>",  
  base_url="https://aihubmix.com"
)

response = client.messages.create(
  model="<modelName>",
  max_tokens=16000,
    thinking={
        "type": "enabled",
        "budget_tokens": 10000
    },
  messages=[
    {
      "role": "user",
      "content": "Are there an infinite number of prime numbers such that n mod 4 == 3?"
    }
  ]
)

# The response will contain summarized thinking blocks and text blocks
for block in response.content:
    if block.type == "thinking":
        print(f"\nThinking summary: {block.thinking}")
    elif block.type == "text":
        print(f"\nResponse: {block.text}")
```

</CodeGroup>

## 兼容性说明

### 支持的参数

在使用 Anthropic API 接入时，我们支持以下输入参数：

| 参数            | 类型                                   | 是否必需 | 说明                                         |
| ------------- | ------------------------------------ | ---- | ------------------------------------------ |
| `model`       | string                               | 是    | 支持模型请查询[模型列表](https://aihubmix.com/models) |
| `messages`    | array of MessageParam  content, role | 是    | 输入信息                                       |
| `max_toknes`  | number                               | 否    | 最大生成 token 数                               |
| `stream`      | boolean                              | 否    | 流式响应                                       |
| `system`      | string or array of TextBlockParam    | 是    | 系统提示词                                      |
| `temperature` | number                               | 否    | 取值范围 (0.0, 1.0]，控制输出随机性，建议取值 1             |
| `top_p`       | number                               | 否    | 核采样参数                                      |
| `thinking`    | ThinkingConfigParam                  | 否    | 推理内容                                       |

### Messages 字段支持

| 字段类型                 | 说明     |
| -------------------- | ------ |
| `type="text"`        | 文本消息   |
| `type="tool_use"`    | 工具调用   |
| `type="tool_result"` | 工具调用结果 |
| `type="thinking"`    | 推理的内容  |