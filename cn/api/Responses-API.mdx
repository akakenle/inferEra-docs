---
title: "Openai Responses API æ”¯æŒ"
icon: "o"
---

æ”¯æŒ Openai çš„ Responses API å¤šåŠŸèƒ½æ¥å£ï¼Œå·²ç»ä¸Šçº¿çš„åŠŸèƒ½æ¥å£å¦‚ä¸‹ï¼š

- Text inputï¼šæ–‡æœ¬è¾“å…¥
- Image inputï¼šå›¾æ–‡è¾“å…¥
- Streamingï¼šæµå¼è°ƒç”¨
- Web searchï¼šæœç´¢
- Deep researchï¼šæ·±åº¦ç ”ç©¶
- Reasoningï¼šæ¨ç†æ·±åº¦ï¼Œæ”¯æŒ 3 æ¡£
- Functionsï¼šå‡½æ•°è°ƒç”¨
- image_generationï¼šç»˜å›¾å·¥å…·è°ƒç”¨ï¼Œå›¾ç‰‡ç”Ÿæˆéƒ¨åˆ†æŒ‰ `gpt-image-1` è®¡ä»·
- Code Interpreterï¼šä»£ç è§£æå™¨
- Remote MCPï¼šMCP è°ƒç”¨
- Computer Useï¼šè‡ªåŠ¨æ“ä½œ

## ä½¿ç”¨ (Python è°ƒç”¨)ï¼š

ä¸å®˜æ–¹çš„ OpenAI è°ƒç”¨æ–¹å¼ä¸€è‡´ï¼Œåªæ˜¯æ›¿æ¢ `api_key` å’Œ `base_url` è¿›è¡Œè½¬å‘ã€‚
å¤§é™†å¯ä»¥ç›´è¿è®¿é—®ã€‚

```py
client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)
```

<Tip>
  1. å¯¹äºæ¨ç†æ¨¡å‹ï¼Œæ”¯æŒé€šè¿‡ä»¥ä¸‹å‚æ•°æ¥è¾“å‡ºæ¨ç†æ€»ç»“ï¼Œæ€»ç»“ç»†èŠ‚çš„ä¸°å¯Œç¨‹åº¦ä¸º detailed \> auto \> Noneï¼Œå…¶ä¸­ auto ä¸ºæœ€ä½³å¹³è¡¡ã€‚

  ```py
  "summary": "auto" 
  ```

  2. æ·±åº¦æ¨ç†æ¨¡å‹å¯é€‰ï¼š`o3-deep-research` å’Œ `o4-mini-deep-research`ï¼Œä»…æ”¯æŒ `responses` ç«¯å£
</Tip>

<CodeGroup>

```py æ–‡æœ¬
from openai import OpenAI
import os

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
  model="gpt-4o-mini", # codex-mini-latest å¯ç”¨
  input="Tell me a three sentence bedtime story about a unicorn."
)

print(response)
```


```py å›¾æ–‡
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
    model="gpt-4o-mini", # codex-mini-latest å¯ç”¨
    input=[
        {
            "role": "user",
            "content": [
                { "type": "input_text", "text": "what is in this image?" },
                {
                    "type": "input_image",
                    "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin-madison-the-nature-boardwalk.jpg"
                }
            ]
        }
    ]
)

print(response)
```


```py æµå¼
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
  model="gpt-4o-mini", # codex-mini-latest å¯ç”¨
  instructions="You are a helpful assistant.",
  input="Hello!",
  stream=True
)

for event in response:
  print(event)
```


```py æœç´¢
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
  model="gpt-4o-mini", # codex-mini-latest ä¸æ”¯æŒæœç´¢ğŸ“
  tools=[{ "type": "web_search_preview" }],
  input="What was a positive news story from today?",
)

print(response)
```

```py Deep Research
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1",
    timeout=3600
)

input_text = """
Research the economic impact of semaglutide on global healthcare systems.
Do:
- Include specific figures, trends, statistics, and measurable outcomes.
- Prioritize reliable, up-to-date sources: peer-reviewed research, health
  organizations (e.g., WHO, CDC), regulatory agencies, or pharmaceutical
  earnings reports.
- Include inline citations and return all source metadata.

Be analytical, avoid generalities, and ensure that each section supports
data-backed reasoning that could inform healthcare policy or financial modeling.
"""

response = client.responses.create(
  model="o3-deep-research", # o4-mini-deep-research
  input=input_text,
  tools=[
    {"type": "web_search_preview"},
    {"type": "code_interpreter", "container": {"type": "auto"}},
  ],
)

print(response.output_text)
```

```py æ¨ç†
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1/"
)

response = client.responses.create(
    model="o4-mini", # æ”¯æŒ codex-mini-latest, o4-mini, o3-mini, o3, o1
    input="How much wood would a woodchuck chuck?",
    reasoning={
        "effort": "medium", # æ”¯æŒ low, medium, high
        "summary": "auto" # æ¨ç†æ€»ç»“
    }
)

print(response)
```


```py å‡½æ•°è°ƒç”¨
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

tools = [
    {
        "type": "function",
        "name": "get_current_weather",
        "description": "Get the current weather in a given location",
        "parameters": {
          "type": "object",
          "properties": {
              "location": {
                  "type": "string",
                  "description": "The city and state, e.g. San Francisco, CA",
              },
              "unit": {"type": "string", "enum": ["celsius", "fahrenheit"]},
          },
          "required": ["location", "unit"],
        }
    }
]

response = client.responses.create(
  model="gpt-4o-mini", # codex-mini-latest å¯ç”¨
  tools=tools,
  input="What is the weather like in Boston today?",
  tool_choice="auto"
)

print(response)
```


```py å›¾ç‰‡ç”Ÿæˆå·¥å…·
from openai import OpenAI
import base64

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
    model="gpt-4.1-mini",
    input="Generate an image of gray tabby cat hugging an otter with an orange scarf",
    tools=[
        {
            "type": "image_generation",
            "background": "opaque", 
            "quality": "high",
        }
    ],
)

# ä¿å­˜ä¸ºå›¾ç‰‡æ–‡ä»¶
image_data = [
    output.result
    for output in response.output
    if output.type == "image_generation_call"
]

if image_data:
    image_base64 = image_data[0]
    with open("cat_and_otter.png", "wb") as f:
        f.write(base64.b64decode(image_base64))
```


```py ä»£ç è§£æå™¨
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

instructions = """
You are a personal math tutor. When asked a math question, 
write and run code using the python tool to answer the question.
"""

resp = client.responses.create(
    model="gpt-4.1",
    tools=[
        {
            "type": "code_interpreter",
            "container": {"type": "auto"}
        }
    ],
    instructions=instructions,
    input="I need to solve the equation 3x + 11 = 14. Can you help me?",
)

print(resp.output)
```


```py Remote MCP
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ¢æˆä½ åœ¨åå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

resp = client.responses.create(
    model="gpt-4.1",
    tools=[{
        "type": "mcp",
        "server_label": "deepwiki",
        "server_url": "https://mcp.deepwiki.com/mcp",
        "require_approval": "never",
        "allowed_tools": ["ask_question"],
    }],
    input="What transport protocols does the 2025-03-26 version of the MCP spec (modelcontextprotocol/modelcontextprotocol) support?",
)

print(resp.output_text)
```

</CodeGroup>

**æ³¨æ„ï¼š**

1. æœ€æ–°çš„ \`codex-mini-latest\` ä¸æ”¯æŒæœç´¢
2. Computer use éœ€è¦é…åˆ Praywright ä½¿ç”¨ï¼Œå»ºè®®å‚è€ƒ[å®˜æ–¹ä»“åº“](https://github.com/openai/openai-cua-sample-app)

å·²çŸ¥ç»†èŠ‚é—®é¢˜ï¼š

- è°ƒç”¨ç”¨ä¾‹å¤æ‚
- æˆªå›¾å¤§é‡ï¼Œè€—æ—¶ä¹…ï¼Œä»»åŠ¡æˆåŠŸç‡ä½
- æˆ–è§¦å‘ CAPTCHA éªŒè¯æˆ– Cloudflare çœŸäººéªŒè¯ï¼Œå¯èƒ½é‡åˆ°æ— é™å¾ªç¯