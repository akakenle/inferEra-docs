---
title: "Openai Responses API æ”¯æ´"
icon: "o"
---

æ”¯æ´ Openai çš„ Responses API å¤šåŠŸèƒ½ä»‹é¢ï¼Œå·²ç¶“ä¸Šç·šçš„åŠŸèƒ½ä»‹é¢å¦‚ä¸‹ï¼š

- Text inputï¼šæ–‡å­—è¼¸å…¥
- Image inputï¼šåœ–æ–‡è¼¸å…¥
- Streamingï¼šä¸²æµèª¿ç”¨
- Web searchï¼šæœå°‹
- Reasoningï¼šæ¨ç†æ·±åº¦æ§åˆ¶ï¼Œæ”¯æ´ 4 å€‹ç­‰ç´šï¼ˆminimal / low / medium / highï¼‰
- Verboseï¼šè¼¸å‡ºé•·åº¦ï¼ˆå†—é•·åº¦ï¼‰ï¼Œgpt-5 æ”¯æ´ 3 å€‹ç­‰ç´šï¼ˆlow / medium / highï¼‰
- Functionsï¼šå‡½æ•¸èª¿ç”¨
- image_generationï¼šç¹ªåœ–å·¥å…·èª¿ç”¨ï¼Œåœ–ç‰‡ç”Ÿæˆéƒ¨åˆ†æŒ‰ `gpt-image-1` è¨ˆåƒ¹
- Code Interpreterï¼šç¨‹å¼ç¢¼è§£æå™¨
- Remote MCPï¼šMCP èª¿ç”¨
- Computer Useï¼šè‡ªå‹•æ“ä½œ

## ä½¿ç”¨ï¼ˆPython èª¿ç”¨ï¼‰ï¼š

èˆ‡å®˜æ–¹çš„ OpenAI èª¿ç”¨æ–¹å¼ä¸€è‡´ï¼Œåªéœ€æ›¿æ› `api_key` å’Œ `base_url` é€²è¡Œè½‰ç™¼ã€‚
ä¸­åœ‹å¤§é™¸å¯ç›´æ¥é€£ç·šè¨ªå•ã€‚

```py
client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ›æˆä½ åœ¨å¾Œå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)
```

å°æ–¼æ¨ç†æ¨¡å‹ï¼Œæ”¯æ´é€šéä»¥ä¸‹åƒæ•¸ä¾†è¼¸å‡ºæ¨ç†ç¸½çµï¼Œç¸½çµç´°ç¯€çš„è±å¯Œç¨‹åº¦ç‚º detailed > auto > Noneï¼Œå…¶ä¸­ auto ç‚ºæœ€ä½³å¹³è¡¡ã€‚

```py
"summary": "auto" 
```

<CodeGroup>

```py GPT-5 ç³»åˆ—
from openai import OpenAI

client = OpenAI(
    api_key="sk-***", # å°‡å…¶æ›¿æ›ç‚ºä½ åœ¨ AIHubMix å¾Œå°ç”¢ç”Ÿçš„é‡‘é‘°
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
    model="gpt-5", # gpt-5, gpt-5-chat-latest, gpt-5-mini, gpt-5-nano
    input="ç‚ºä»€éº¼å¡”ç¾…å åœæœ‰æ•ˆï¼Ÿå…¶èƒŒå¾Œçš„åŸç†æ˜¯ä»€éº¼ï¼Ÿæœ‰å“ªäº›å¯é·ç§»çš„æ–¹æ³•ï¼Ÿè¼¸å‡ºæ ¼å¼ï¼šMarkdown", # GPT-5 é è¨­ä¸ä»¥ Markdown æ ¼å¼è¼¸å‡ºï¼Œå› æ­¤éœ€è¦æ˜ç¢ºæŒ‡å®šã€‚
    reasoning={
        "effort": "minimal" # æ¨ç†æ·±åº¦â€”â€”æ§åˆ¶æ¨¡å‹åœ¨ç”¢ç”Ÿå›è¦†å‰æœƒç”Ÿæˆå¤šå°‘æ¨ç† tokenã€‚å¯ç”¨å€¼ç‚º "minimal"ã€"low"ã€"medium" æˆ– "high"ã€‚é è¨­ç‚º "medium"ã€‚
    },
    text={
        "verbosity": "low" # è¼¸å‡ºé•·åº¦â€”â€”å†—é•·åº¦æ±ºå®šæœƒç”Ÿæˆå¤šå°‘è¼¸å‡º tokenã€‚å¯ç”¨å€¼ç‚º "low"ã€"medium" æˆ– "high"ã€‚GPT-5 ä¹‹å‰çš„æ¨¡å‹é è¨­ç‚º "medium" å†—é•·åº¦ã€‚
    },
    stream=True
)

for event in response:
  print(event)
```

```py æ–‡å­—
from openai import OpenAI
import os

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ›æˆä½ åœ¨å¾Œå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
  model="gpt-4o-mini", # codex-mini-latest å¯ç”¨
  input="Tell me a three sentence bedtime story about a unicorn."
)

print(response)
```

```py åœ–æ–‡
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ›æˆä½ åœ¨å¾Œå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
    model="gpt-4o-mini", # codex-mini-latest å¯ç”¨
    input=[
        {
            "role": "user",
            "content": [
                { "type": "input_text", "text": "what is in this image?" },
                {
                    "type": "input_image",
                    "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin-madison-the-nature-boardwalk.jpg"
                }
            ]
        }
    ]
)

print(response)
```


```py ä¸²æµ
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ›æˆä½ åœ¨å¾Œå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
  model="gpt-4o-mini", # codex-mini-latest å¯ç”¨
  instructions="You are a helpful assistant.",
  input="Hello!",
  stream=True
)

for event in response:
  print(event)
```


```py æœå°‹
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ›æˆä½ åœ¨å¾Œå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
  model="gpt-4o-mini", # codex-mini-latest ä¸æ”¯æ´æœå°‹ğŸ“
  tools=[{ "type": "web_search_preview" }],
  input="What was a positive news story from today?",
)

print(response)
```


```py æ¨ç†
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ›æˆä½ åœ¨å¾Œå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1/"
)

response = client.responses.create(
    model="o4-mini", # æ”¯æ´ codex-mini-latest, o4-mini, o3-mini, o3, o1
    input="How much wood would a woodchuck chuck?",
    reasoning={
        "effort": "medium", # æ”¯æ´ low, medium, high
        "summary": "auto" # æ¨ç†ç¸½çµ
    }
)

print(response)
```


```py å‡½æ•¸èª¿ç”¨
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ›æˆä½ åœ¨å¾Œå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

tools = [
    {
        "type": "function",
        "name": "get_current_weather",
        "description": "Get the current weather in a given location",
        "parameters": {
          "type": "object",
          "properties": {
              "location": {
                  "type": "string",
                  "description": "The city and state, e.g. San Francisco, CA",
              },
              "unit": {"type": "string", "enum": ["celsius", "fahrenheit"]},
          },
          "required": ["location", "unit"],
        }
    }
]

response = client.responses.create(
  model="gpt-4o-mini", # codex-mini-latest å¯ç”¨
  tools=tools,
  input="What is the weather like in Boston today?",
  tool_choice="auto"
)

print(response)
```


```py åœ–ç‰‡ç”Ÿæˆå·¥å…·
from openai import OpenAI
import base64

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ›æˆä½ åœ¨å¾Œå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

response = client.responses.create(
    model="gpt-4.1-mini",
    input="Generate an image of gray tabby cat hugging an otter with an orange scarf",
    tools=[{"type": "image_generation"}],
)

# å„²å­˜ç‚ºåœ–ç‰‡æª”æ¡ˆ
image_data = [
    output.result
    for output in response.output
    if output.type == "image_generation_call"
]

if image_data:
    image_base64 = image_data[0]
    with open("cat_and_otter.png", "wb") as f:
        f.write(base64.b64decode(image_base64))
```


```py ç¨‹å¼ç¢¼è§£æå™¨
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ›æˆä½ åœ¨å¾Œå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

instructions = """
You are a personal math tutor. When asked a math question, 
write and run code using the python tool to answer the question.
"""

resp = client.responses.create(
    model="gpt-4.1",
    tools=[
        {
            "type": "code_interpreter",
            "container": {"type": "auto"}
        }
    ],
    instructions=instructions,
    input="I need to solve the equation 3x + 11 = 14. Can you help me?",
)

print(resp.output)
```


```py Remote MCP
from openai import OpenAI

client = OpenAI(
    api_key="AIHUBMIX_API_KEY", # æ›æˆä½ åœ¨å¾Œå°ç”Ÿæˆçš„ Key "sk-***"
    base_url="https://aihubmix.com/v1"
)

resp = client.responses.create(
    model="gpt-4.1",
    tools=[{
        "type": "mcp",
        "server_label": "deepwiki",
        "server_url": "https://mcp.deepwiki.com/mcp",
        "require_approval": "never",
        "allowed_tools": ["ask_question"],
    }],
    input="What transport protocols does the 2025-03-26 version of the MCP spec (modelcontextprotocol/modelcontextprotocol) support?",
)

print(resp.output_text)
```

</CodeGroup>

**æ³¨æ„ï¼š**

1. æœ€æ–°çš„ `codex-mini-latest` ä¸æ”¯æ´æœå°‹
2. Computer use éœ€è¦é…åˆ Praywright ä½¿ç”¨ï¼Œå»ºè­°åƒè€ƒ[å®˜æ–¹å€‰åº«](https://github.com/openai/openai-cua-sample-app)

å·²çŸ¥ç´°ç¯€å•é¡Œï¼š

- èª¿ç”¨ç”¨ä¾‹è¤‡é›œ
- æˆªåœ–å¤§é‡ï¼Œè€—æ™‚ä¹…ï¼Œä»»å‹™æˆåŠŸç‡ä½
- æˆ–è§¸ç™¼ CAPTCHA é©—è­‰æˆ– Cloudflare çœŸäººé©—è­‰ï¼Œå¯èƒ½é‡åˆ°ç„¡é™å¾ªç’°