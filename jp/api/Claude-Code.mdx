---
title: "Claude Code"
description: " "
icon: "terminal"
---

Aihubmix を使えば、Claude Code の接続不安やチャージ枠不足の悩みを一掃できます。Aihubmix のリレーサービスは公式チャネルに基づき、コンプライアンスも安全性も万全。アカウントリスクや隠れた制限を心配する必要はありません。

## クイック設定ガイド：

### 1️⃣ npmパッケージをグローバルインストール

ターミナルで以下を実行します。

```shell
npm install -g @anthropic-ai/claude-code
```

例の図：

![インストール](../../public/en/aihubmix-claude-code-npm.png)

### 2️⃣ 環境変数設定

AiHubmixの[「Keys」ページ](https://aihubmix.com/token)でキーを生成し、システム環境変数にこのキーと転送アドレスを入力します。

例えば、~/.zshrcに以下を追加します。

```shell
export ANTHROPIC_API_KEY="sk-***"
export ANTHROPIC_BASE_URL="https://aihubmix.com"
```

<Tip>
  Macユーザーの場合、`ユーザー名`ディレクトリでショートカット `⌘ + ⇧ + .` を使用して隠しファイル.zshrcを表示し、システムの「テキストエディット」アプリで開いて上記の内容を追加できます。
</Tip>

### 3️⃣ 設定を有効にする

設定を追加した後、ターミナルで`source ~/.zshrc`を実行し、Enterキーを押します。

### 4️⃣ ターミナル起動

ターゲットプロジェクトディレクトリに移動します。例えば`cd ~/Desktop/my-project`
`claude`と入力して起動すると、使用できます。

## 初期設定

### 認証

認証ページが表示されたら、Claude公式サイトに移動して確認し、認証が成功したらターミナルに戻ります。認証には有料アカウントは必要ありません。無料のClaudeアカウントを適当に登録するだけで十分です。

![認証](../../public/en/claude-auth.png)

### 起動

起動後、Claude Codeは現在の設定情報（APIキーとAPIベースURLを含む）を表示します。
確認が必要な箇所でYesを選択してEnterキーを押すと、すべての設定が完了します。

![初期化](../../public/en/aihubmix-claude-code.png)

例えば：Claudeがシステム環境変数にカスタムキーを検出した場合、`Yes`を選択します。

```
環境でカスタムAPIキーが検出されました

ANTHROPIC_API_KEY: sk-***
このAPIキーを使用しますか？

> 1. はい
2. いいえ（推奨）

Enterで確認。Escでキャンセル
```

## AiHubMixプラットフォームで任意のLLMを使用する

### 1️⃣ @aihubmix/claude-codeをグローバルにインストールする

```shell
npm install -g @aihubmix/claude-code
```
### 2️⃣ システム環境変数を設定する（推奨）

```shell
export AIHUBMIX_API_KEY="your-aihubmix-api-key"
export HOST="127.0.0.1"  # オプション
export PORT="3456"       # オプション
export LOG="true"        # オプション
export API_TIMEOUT_MS="30000"  # オプション
```

### 3️⃣ 設定ファイルを生成する

注意：sk-***をAiHubMixで生成したキーに置き換えてください。モデル自体以外の設定オプションは、システム環境変数が存在する場合、そちらで上書きされます。

```shell
mkdir -p ~/.aihubmix-claude-code && cat > ~/.aihubmix-claude-code/config.json <<EOF
{
  "API_KEY": "sk-***",
  "HOST": "127.0.0.1",
  "PORT": 3456,
  "LOG": true,
  "API_TIMEOUT_MS": 30000,
  "Router": {
    "default": "claude-sonnet-4-20250514",
    "background": "claude-3-5-haiku-20241022",
    "think": "claude-sonnet-4-20250514",
    "longContext": "gpt-4.1",
    "longContextThreshold": 60000,
    "webSearch": "gemini-2.0-flash-search"
  }
}
EOF
```

### 4️⃣ 使い方

<CodeGroup>

```shell
acc start
```

```shell
acc stop
```

```shell
acc code
```

```shell
acc restart
```

```shell
acc status
```

```shell
acc help
```

```shell
acc version
```

</CodeGroup>

-[詳細はこちら](https://github.com/inferera/aihubmix/blob/main/packages/claude-code/README.md)
-[npmパッケージ](https://www.npmjs.com/package/@aihubmix/claude-code)

どうぞお楽しみください！