---
title: "LangChainでの使用"
description: ""
icon: ''
---

ダウンロードアドレス：https://www.langchain.com/  
### 最も簡単な方法は、環境変数を直接設定することです。コードは以下の通りです。

```
API_SECRET_KEY = "sk-pvMtoVO******66249058b93C766F2D70167"
BASE_URL = "https://aihubmix.com/v1"; #aihubmixのベースURL

os.environ["OPENAI_API_KEY"] = API_SECRET_KEY
os.environ["OPENAI_API_BASE"] = BASE_URL
```
注意：openai_api_baseの末尾に /v1 を追加する必要があります。
```from langchain.chat_models import ChatOpenAI

llm = ChatOpenAI(
    openai_api_base="https://aihubmix.com/v1", # 注意、末尾に /v1 を追加
    openai_api_key="sk-3133f******fee269b71d",
)

res = llm.predict("hello")

print(res)
```
LLMを使用して予測を行うサンプルコード  
核心は、キーとURLの設定にあります。  
方法は以下の通りです。  
1. 環境変数を使用して設定する  
2. 変数を使用して渡す  
3. 環境変数を手動で設定する     

```import os
import requests
import time
import json
import time

from langchain.llms import OpenAI

API_SECRET_KEY = "あなたのaihubmixのキー";
BASE_URL = "https://aihubmix.com/v1"; #aihubmixのベースURL

os.environ["OPENAI_API_KEY"] = API_SECRET_KEY
os.environ["OPENAI_API_BASE"] = BASE_URL

def text():
    llm = OpenAI(temperature=0.9)
    text = "What would be a good company name for a company that makes colorful socks?"
    print(llm(text))

if __name__ == '__main__':
    text();
    
```
実行後、以下の戻り値が表示されます。  
```
Lively Socks.
```